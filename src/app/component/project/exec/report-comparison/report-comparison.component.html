<mat-card>
  <mat-card-title>
    <div layout="row">
      <span *ngIf="test != undefined">Reporting of execution number {{test}}</span>
      <span flex></span>
      <button *ngIf="test != undefined" mat-raised-button class="iconBtn-lg" color="accent"
              [routerLink]="['/projects/', project, test]">
        <mat-icon>arrow_back</mat-icon>
      </button>&nbsp;
      <button mat-raised-button class="iconBtn-lg" color="accent" (click)="openComparisonDialog()">
        <mat-icon>equalizer</mat-icon>
      </button>&nbsp;
    </div>
  </mat-card-title>
  <mat-divider></mat-divider>
  <mat-card-content>
    <span>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:18.283</del><ins style="background:#e6ffe6;">33:34.066</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Starting browser (chrome)
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:19.068</del><ins style="background:#e6ffe6;">33:34.849</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Navigating to https://localhost:5000/
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:21.539</del><ins style="background:#e6ffe6;">33:37.330</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in user Teacher with mail 'teacher@gmail.com'
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:25.934</del><ins style="background:#e6ffe6;">33:41.222</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in successful for user Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:26.935</del><ins style="background:#e6ffe6;">33:42.222</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher entering first course
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:28.103</del><ins style="background:#e6ffe6;">33:43.314</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher navigating to 'Sessions' tab
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:29.280</del><ins style="background:#e6ffe6;">33:44.425</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher getting into first session
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:30.551</del><ins style="background:#e6ffe6;">33:45.688</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Connected") for Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:30.683</del><ins style="background:#e6ffe6;">33:46.305</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Starting browser (chrome)
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:31.120</del><ins style="background:#e6ffe6;">33:46.726</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Navigating to https://localhost:5000/
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:34.078</del><ins style="background:#e6ffe6;">33:49.472</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in user Student with mail 'student1@gmail.com'
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:38.075</del><ins style="background:#e6ffe6;">33:53.602</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in successful for user Student
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:42.491</del><ins style="background:#e6ffe6;">33:58.110</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Student Imprudent has connected") for Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6; display: none">29:42.558  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Teacher Cheater has connected") for Student
    &para;<br>2018-02-20 12:29:45.343  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking own message ("TEACHER CHAT MESSAGE") for Teacher
    &para;<br>2018-02-20 12:29:45.525  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking another user's message ("TEACHER CHAT MESSAGE") for Student
    &para;<br>2018-02-20 12:29:46.972  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking another user's message ("STUDENT CHAT MESSAGE") for Teacher
    &para;<br>2018-02-20 12:29:47.235  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking own message ("STUDENT CHAT MESSAGE") for Student
    &para;<br>2018-02-20 12:29:49.436  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Student
    &para;<br>2018-02-20 12:29:51.262  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out successful for Student
    &para;<br>2018-02-20 12:29:52.366  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Student Imprudent has disconnected") for Teacher
    &para;<br>2018-02-20 12:29:52.453  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Teacher
    &para;<br>2018-02-20 12:29:54.254</del><ins style="background:#e6ffe6;">34:28.295  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Teacher
    &para;<br>2018-02-20 12:34:29.821</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out successful for Teacher</span>
    <span>2018-02-20 12:</span><del style="background:#ffe6e6;">29:18.283</del><ins style="background:#e6ffe6; display: none">33:34.066</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Starting browser (chrome)
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:19.068</del><ins style="background:#e6ffe6; display: none">33:34.849</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Navigating to https://localhost:5000/
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:21.539</del><ins style="background:#e6ffe6; display: none">33:37.330</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in user Teacher with mail 'teacher@gmail.com'
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:25.934</del><ins style="background:#e6ffe6; display: none">33:41.222</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in successful for user Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:26.935</del><ins style="background:#e6ffe6; display: none">33:42.222</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher entering first course
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:28.103</del><ins style="background:#e6ffe6; display: none">33:43.314</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher navigating to 'Sessions' tab
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:29.280</del><ins style="background:#e6ffe6; display: none">33:44.425</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Teacher getting into first session
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:30.551</del><ins style="background:#e6ffe6; display: none">33:45.688</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Connected") for Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:30.683</del><ins style="background:#e6ffe6; display: none">33:46.305</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Starting browser (chrome)
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:31.120</del><ins style="background:#e6ffe6; display: none">33:46.726</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Navigating to https://localhost:5000/
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:34.078</del><ins style="background:#e6ffe6; display: none">33:49.472</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in user Student with mail 'student1@gmail.com'
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:38.075</del><ins style="background:#e6ffe6; display: none">33:53.602</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging in successful for user Student
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:42.491</del><ins style="background:#e6ffe6; display: none">33:58.110</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Student Imprudent has connected") for Teacher
&para;<br>2018-02-20 12:</span><del style="background:#ffe6e6;">29:42.558  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Teacher Cheater has connected") for Student
    &para;<br>2018-02-20 12:29:45.343  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking own message ("TEACHER CHAT MESSAGE") for Teacher
    &para;<br>2018-02-20 12:29:45.525  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking another user's message ("TEACHER CHAT MESSAGE") for Student
    &para;<br>2018-02-20 12:29:46.972  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking another user's message ("STUDENT CHAT MESSAGE") for Teacher
    &para;<br>2018-02-20 12:29:47.235  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking own message ("STUDENT CHAT MESSAGE") for Student
    &para;<br>2018-02-20 12:29:49.436  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Student
    &para;<br>2018-02-20 12:29:51.262  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out successful for Student
    &para;<br>2018-02-20 12:29:52.366  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Checking system message ("Student Imprudent has disconnected") for Teacher
    &para;<br>2018-02-20 12:29:52.453  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Teacher
    &para;<br>2018-02-20 12:29:54.254</del><ins style="background:#e6ffe6; display: none">34:28.295  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out Teacher
    &para;<br>2018-02-20 12:34:29.821</ins><span>  INFO   --- [           main] c.f.backend.e2e.FullTeachingTestE2E      : Logging out successful for Teacher</span>

    <div *ngIf="comparisonInProgress; else notComparing">
      <ng-template ngFor let-class [ngForOf]="resultData">
        <h3>{{class.name}}</h3>
        <ng-template ngFor let-method [ngForOf]="class.methods">
          <h5>{{method.name}}</h5>
          <table class="diff-table">
            <tbody>
            <tr *ngFor="let result of method.logs">
              <td [innerHTML]="result.index_p" class="index"></td>
              <td [innerHTML]="result.com_p.content" [class]="result.com_p.class"></td>
              <td [innerHTML]="result.indexp" class="index"></td>
              <td [innerHTML]="result.comp.content" [class]="result.comp.class"></td>
            </tr>
            </tbody>
          </table>
        </ng-template>
      </ng-template>
    </div>
    <ng-template #notComparing>
      <ng-template ngFor let-item [ngForOf]="classesL" >
        <h3>{{item.name}}</h3>
        <ng-template ngFor let-itemm [ngForOf]="item.methods">
          <h5>{{itemm.name}}</h5>
          <table class="diff-table">
            <tbody>
              <tr *ngFor="let log of itemm.logs; index as i">
                <td class="index">{{i}}.</td>
                <td>{{log.timestamp}} [{{log.thread}}] {{log.level}} {{log.logger}} - {{log.message}}</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ng-template>
    </ng-template>
  </mat-card-content>
</mat-card>
