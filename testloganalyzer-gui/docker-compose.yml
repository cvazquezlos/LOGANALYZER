version: "2.2"

services:
  elasticsearch:
    image: cvazquezlos/elk:2.4.6
    ports:
      - 5601:5601
      - 9200:9200
      - 9300:9300
      - 5044:5044
    volumes:
      - elk-data:/var/lib/elasticsearch

  elasticsearch-client:
    image: cvazquezlos/elasticsearch-client:2.4.6
    depends_on:
      - elasticsearch
    ports:
      - 8443:8443

  loganalyzer:
    image: cvazquezlos/testloganalyzer:4.0
    depends_on:
      - elasticsearch
      - elasticsearch-client
    ports:
      - 4200:4200

volumes:
  elk-data:
